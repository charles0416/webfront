<div class='container pt-2'>
    <div class="row mt-2">
        <div class="col">
            <h3 class="form-signin-heading">Register</h3>
        </div>
    </div>
    <alert></alert>
    <form (ngSubmit)="onSubmit()" class="form-signin" #f="ngForm">
        <div class="form-group">
            <label for="givenName" class="font-weight-bold">Given name</label>
            <div *ngIf="givenName && givenName.dirty && givenName.invalid" class="alert">Given name is required</div>
            <input type="text" class="form-control" name="givenName" placeholder="Your given name" #givenName="ngModel" [(ngModel)]="user.givenName"
                required>
        </div>
        <div class="form-group">
            <label for="surname" class="font-weight-bold">Surname</label>
            <div *ngIf="surname && surname.dirty && surname.invalid" class="alert">Surname is required</div>
            <input type="text" class="form-control" name="surname" placeholder="Your surname" #surname="ngModel" [(ngModel)]="user.surname"
                required>
        </div>
        <div class="form-group">
            <label for="email" class="font-weight-bold">Email address</label>
            <div *ngIf="email.dirty && email.invalid" class="alert">A valid email is required</div>
            <input type="email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$" class="form-control" name="email" aria-describedby="emailHelp"
                placeholder="Enter email" required [(ngModel)]="user.email" #email="ngModel">
            <small id="emailHelp" class="form-text text-muted">A valid email to verify your account or retrive the password.</small>
        </div>
        <div class="form-group">
            <label for="password1" class="font-weight-bold">Password</label>
            <div *ngIf="password1 && password1.dirty && password1.invalid" class="alert">Password is invalid.</div>
            <input type="password" pattern="(?=.*\d).{4,8}$" class="form-control" name="password1" placeholder="Input a password" required
                [(ngModel)]="user.password" #password1="ngModel">
            <small class="form-text text-muted">Password must be between 4 and 8 digits long and include at least one numeric digit.</small>
        </div>
        <div class="form-group">
            <label for="password2" class="font-weight-bold">Repeat Password</label>
            <div *ngIf="password2.dirty && user.password != repeatPassword" class="alert">Passwords are not match.</div>
            <input type="password" pattern="(?=.*\d).{4,8}$" class="form-control" name="password2" placeholder="Input a password" required
                #password2="ngModel" [(ngModel)]="repeatPassword">
        </div>
        <div class="form-group">
            <input type="submit" [disabled]="f.invalid || (user.password != repeatPassword)" class="btn btn-primary" value="submit">
            <a [routerLink]="['/signin']" class="btn">Cancel</a>
        </div>
    </form>
</div>